<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notes - Thomas</title>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./src/auth-modal.css">
</head>
<body>
    <div class="container">
        <div class="layout">
            <aside class="sidebar">
                <h1>Notes</h1>
                <div class="nav-menu">
                    <a href="https://thomasrribeiro.github.io">&lt; back home</a>
                </div>

                <div class="bio">
                    A spaced-repetition system built to work with plain markdown files synced to your GitHub account. Store what matters and never forget it.
                </div>

                <div class="sidebar-content">
                    <h3>Why It Works</h3>
                    <ul>
                        <li>Active recall strengthens memory</li>
                        <li>Reviews at optimal timing</li>
                        <li>Personalized to your learning speed</li>
                        <li>Focus on difficult cards</li>
                    </ul>

                    <h3>How to Use</h3>
                    <ol>
                        <li>Create or choose a topic</li>
                        <li>Review cards and rate recall (1-4)</li>
                        <li>Cards reappear based on performance</li>
                        <li>Study daily for best results</li>
                    </ol>

                    <p class="tip">
                        <strong>Pro tip:</strong> Consistency beats intensity. 10 minutes daily is better than 2 hours weekly.
                    </p>
                </div>
            </aside>

            <main class="main-content">
                <h2 class="section-title">Collection</h2>
                <div class="auth-header">
                    <button class="btn-github-login" id="btn-github-login">
                        Login with GitHub
                    </button>
                    <div class="user-info hidden" id="user-info">
                        <span id="user-name"></span>
                        <button id="add-repo-btn" class="add-repo-btn" title="Add repository">+</button>
                        <button class="btn-logout" id="btn-logout">Logout</button>
                    </div>
                </div>

                <!-- Filter and Sort Controls -->
                <div class="controls-bar hidden" id="controls-bar">
                    <input
                        type="text"
                        id="search-input"
                        class="search-input"
                        placeholder="Search decks..."
                        autocomplete="off"
                    />
                    <select id="sort-select" class="sort-select">
                        <option value="" disabled selected>Look through my repos</option>
                        <option value="newest">Newest First</option>
                        <option value="oldest">Oldest First</option>
                        <option value="name-asc">Name (A-Z)</option>
                        <option value="name-desc">Name (Z-A)</option>
                        <option value="due-most">Most Due</option>
                        <option value="due-least">Least Due</option>
                    </select>
                </div>

                <div id="topics-grid" class="projects-grid">
                    <!-- Topics will be loaded dynamically -->
                    <div class="loading">Loading topics...</div>
                </div>
            </main>
        </div>
    </div>

    <!-- Add Repository Modal -->
    <div id="add-repo-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Repository</h3>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <label for="github-repo-input">GitHub Repository</label>
                <div class="repo-input-wrapper">
                    <input
                        type="text"
                        id="github-repo-input"
                        placeholder="owner/repository"
                        autocomplete="off"
                    />
                    <div id="repo-suggestions" class="repo-suggestions hidden"></div>
                </div>
                <p class="modal-hint">Enter a GitHub repository in the format: owner/repository</p>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" id="modal-cancel">Cancel</button>
                <button class="btn-primary" id="modal-add">Add Repository</button>
            </div>
        </div>
    </div>

    <script type="module" src="./src/main.js"></script>
    <script type="module" src="./src/github-auth.js"></script>
</body>
</html>
